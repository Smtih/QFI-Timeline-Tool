(this["webpackJsonpqfi-timeline-tool"]=this["webpackJsonpqfi-timeline-tool"]||[]).push([[0],{234:function(e,t,n){e.exports=n(487)},239:function(e,t,n){},256:function(e,t){},258:function(e,t){},290:function(e,t){},291:function(e,t){},356:function(e,t){},487:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(25),l=n.n(c),i=(n(239),n(30)),o=n(2),u=n(141),s=n.n(u),b=n(3),f=n(4),m=n(215),d=n(216),p=n.n(d),O=n(12),j=n(21),v=n(15),g=n(32),E=n.n(g);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach(function(t){Object(b.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(){return(k=Object(m.a)(s.a.mark(function e(t){var n,a,r,c,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==x){e.next=9;break}return e.next=3,p.a.init({key:"1qcsUcO02_Ppf965XmiuCYnZZik6pLiV3wO3fBvRwaQs",parseNumbers:!0});case 3:n=e.sent,a=n.Suspects.elements,r=a.map(function(e){return y({},e,{visible:!0})}).map(w),c=n.Locations.elements,l=c.map(w),Object(O.setGlobal)(y({},t,{suspects:r,savedAddresses:l}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(e){var t=e.lat,n=e.lng;return y({},Object(f.a)(e,["lat","lng"]),{location:{lat:t,lng:n}})}var x={savedAddresses:[],suspects:[],currentDate:"2019-05-12T10:00:00.000+10"};new(function(){function e(t,n){Object(j.a)(this,e),this.localStorageKey="QFI_TIMELINE_TOOL",this.initialGlobal=void 0,this.invalidateMs=void 0,this.initialGlobal=t,this.invalidateMs=n}return Object(v.a)(e,[{key:"initialise",value:function(e){var t=this,n=this.getGlobal();Object(O.addCallback)(function(e){return t.storeGlobal(e)}),Object(O.setGlobal)(n),e(n)}},{key:"storeGlobal",value:function(e){localStorage.setItem(this.localStorageKey,JSON.stringify({lastModified:E()().toISOString(),global:e}))}},{key:"getGlobal",value:function(){var e=localStorage.getItem(this.localStorageKey);if(!e)return this.initialGlobal;var t=JSON.parse(e),n=t.lastModified,a=t.global;return n&&this.invalidateMs&&E()().diff(n)>this.invalidateMs?this.initialGlobal:a||this.initialGlobal}}]),e}())(x,432e5).initialise(function(e){return k.apply(this,arguments)});var G=n(40),P=n(14),S=n(515),C=n(104);function I(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: row;\n  align-content: center;\n  justify-content: center;\n"]);return I=function(){return e},e}function L(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  padding: 16px;\n"]);return L=function(){return e},e}function D(e){var t=Object(o.a)({},e),n=Object(O.useGlobal)("currentDate"),a=Object(P.a)(n,2),c=a[0],l=a[1],i=E()(c).unix();return r.a.createElement(N,t,r.a.createElement(B,null,r.a.createElement(C.a,null,M(i))),r.a.createElement(B,null,r.a.createElement(C.a,{style:{paddingRight:16,textAlign:"right"}},M(A)),r.a.createElement(S.a,{value:i,onChange:function(e,t){return l(E.a.unix(t).toISOString())},step:1800,min:A,max:T}),r.a.createElement(C.a,{style:{paddingLeft:16,textAlign:"left"}},M(T))))}function M(e){return E.a.unix(e).format("DD/MM/YYYY hh:mm a")}var A=E()("2019-05-12T06:00:00.000+10").unix(),T=E()("2019-05-14T22:00:00.000+10").unix(),N=G.a.div(L()),B=G.a.div(I()),Y=n(80);function J(){var e=Object(i.a)(["\n  display: flex;\n  flex: 1;\n"]);return J=function(){return e},e}function q(e){var t=Object(o.a)({},e),n=Object(O.useGlobal)("currentPosition"),a=Object(P.a)(n,2),c=a[0],l=a[1],i=Object(O.useGlobal)("searchedAddress"),u=Object(P.a)(i,1)[0],s=Object(O.useGlobal)("savedAddresses"),b=Object(P.a)(s,1)[0],f=Object(O.useGlobal)("suspects"),m=Object(P.a)(f,1)[0],d=Object(O.useGlobal)("currentDate"),p=Object(P.a)(d,1)[0],j=m.filter(function(e){var t=e.startTime,n=e.endTime;return e.visible&&E()(p).isBetween(t,n,void 0,"[)")});return r.a.createElement(R,Object.assign({style:{width:"100%",height:"100%",position:"relative"}},t),r.a.createElement(Y.Map,{style:{width:"100%",height:"100%",position:"relative"},google:google,zoom:K,initialCenter:H,center:c,onDragend:function(){return l(void 0)}},b.map(function(e,t){var n=e.firstLine,a=e.location;return r.a.createElement(Y.Marker,{key:t,title:n,icon:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",position:a})}),j.map(function(e,t){var n=e.location,a=e.radius,c=e.color;return r.a.createElement(Y.Circle,{key:t,center:n,radius:a,fillColor:c,strokeColor:c})}),u&&r.a.createElement(Y.Marker,{title:u.firstLine,icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png",position:u.location})))}var H={lat:-37.714145,lng:145.065955},K=13,R=G.a.div(J()),_=n(511),z=n(514),F=n(516),Q=n(103),U=n.n(Q),Z=n(228);function V(){var e=Object(i.a)(["\n  width: 100%;\n"]);return V=function(){return e},e}function X(e){var t=Object(o.a)({},e),n=Object(a.useState)(""),c=Object(P.a)(n,2),l=c[0],i=c[1],u=Object(O.useGlobal)("searchedAddress"),s=Object(P.a)(u,2)[1],b=Object(O.useGlobal)("currentPosition"),f=Object(P.a)(b,2)[1],m=Object(a.useCallback)(function(e){e&&i(e)},[i]),d=Object(a.useCallback)(function(e){if(e){var t=e.value;m(t.description),Object(Q.geocodeByPlaceId)(t.placeId).then(function(e){return Object(Q.getLatLng)(e[0])}).then(function(e){s({placeId:t.placeId,firstLine:t.formattedSuggestion.mainText,secondLine:t.formattedSuggestion.secondaryText,location:e}),f(e)}).catch(function(e){console.error(e)})}},[m,s,f]);return r.a.createElement(F.a,Object.assign({component:"div"},t),r.a.createElement(U.a,{debounce:500,value:l,onChange:m,searchOptions:$},function(e){var t=e.getInputProps,n=e.suggestions,a=t().onChange,c=n.map(function(e){return{value:e,label:e.description}});return r.a.createElement(ee,null,r.a.createElement(Z.a,{menuIsOpen:c.length>0,filterOption:function(){return!0},onInputChange:function(e){return a({target:{value:e}})},components:W,placeholder:"Search",options:c,onChange:d}))}))}var W={DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}},$={location:new window.google.maps.LatLng(-37,144),radius:5e3,componentRestrictions:{country:"AU"}},ee=G.a.div(V()),te=n(31),ne=n(505),ae=n(506),re=n(507),ce=n(508);function le(e){e.style;var t=Object(O.useGlobal)("savedAddresses"),n=Object(P.a)(t,2),c=n[0],l=n[1],i=Object(O.useGlobal)("searchedAddress"),o=Object(P.a)(i,1)[0],u=Object(O.useGlobal)("currentPosition"),s=Object(P.a)(u,2)[1],b=Object(a.useCallback)(function(){if(o){var e=[].concat(Object(te.a)(c),[o]);l(e)}},[c,l,o]),f=Object(a.useMemo)(function(){return!!o&&!!c.find(function(e){return e.placeId===o.placeId})},[c,o]);return o?r.a.createElement(F.a,{button:!0,onClick:function(){return s(o.location)}},r.a.createElement(ne.a,null,r.a.createElement("img",{src:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png",alt:"Pin Icon"})),r.a.createElement(ae.a,{primary:o.firstLine,secondary:o.secondLine}),r.a.createElement(re.a,null,r.a.createElement(ce.a,{disabled:f,variant:"outlined",onClick:function(){return b()}},"Save"))):null}var ie=n(224),oe=n.n(ie),ue=n(512),se=n(513),be=n(509),fe=n(510),me=function(e){var t=e.title,n=e.subHeader,c=e.children,l=Object(a.useState)(!0),i=Object(P.a)(l,2),o=i[0],u=i[1],s=Object(a.useCallback)(function(){return u(!o)},[u,o]);return r.a.createElement(a.Fragment,null,r.a.createElement(F.a,{button:!0,onClick:s},r.a.createElement(ae.a,{primary:t}),o?r.a.createElement(be.a,null):r.a.createElement(fe.a,null)),r.a.createElement(se.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(_.a,{component:"div",disablePadding:!0,subheader:n},c)))};function de(){var e=Object(O.useGlobal)("currentPosition"),t=Object(P.a)(e,2)[1],n=Object(O.useGlobal)("savedAddresses"),c=Object(P.a)(n,2),l=c[0],i=c[1],o=Object(a.useCallback)(function(e){var t=e.placeId,n=l.filter(function(e){var n=e.placeId;return t!==n});i(n)},[l,i]);return r.a.createElement(me,{title:"Saved Locations",subHeader:r.a.createElement(pe,{enabled:0===l.length})},l.map(function(e){return r.a.createElement(F.a,{key:e.placeId,button:!0,onClick:function(){return t(e.location)}},r.a.createElement(ne.a,null,r.a.createElement("img",{src:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",alt:"Pin Icon"})),r.a.createElement(ae.a,{primary:e.firstLine,secondary:e.secondLine}),r.a.createElement(re.a,null,r.a.createElement(ue.a,{onClick:function(){return o(e)}},r.a.createElement(oe.a,null))))}))}function pe(e){var t=e.enabled;Object(f.a)(e,["enabled"]);return t?r.a.createElement(C.a,null,"No saved locations yet..."):null}var Oe=n(225),je=n.n(Oe),ve=n(226),ge=n.n(ve),Ee=n(227),he=n.n(Ee);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ke(){var e=Object(O.useGlobal)("suspects"),t=Object(P.a)(e,2),n=t[0],c=t[1],l=Object(O.useGlobal)("currentDate"),i=Object(P.a)(l,1)[0],o=Object(O.useGlobal)("currentPosition"),u=Object(P.a)(o,2)[1],s=n.filter(function(e){var t=e.startTime,n=e.endTime;return E()(i).isBetween(t,n,void 0,"[)")}),f=Object(a.useCallback)(function(e){var t=Object(te.a)(n),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(n,!0).forEach(function(t){Object(b.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{visible:!e.visible});t[n.indexOf(e)]=a,c(t)},[n,c]);return r.a.createElement(me,{title:"Suspect Locations",subHeader:r.a.createElement(we,{enabled:0===n.length})},s.map(function(e,t){return r.a.createElement(F.a,{key:t,button:!0,onClick:function(){return u(e.location)}},r.a.createElement(ne.a,null,r.a.createElement(je.a,{style:{color:e.color},fontSize:"large"})),r.a.createElement(ae.a,{primary:e.name}),r.a.createElement(re.a,null,r.a.createElement(ue.a,{onClick:function(){return f(e)}},e.visible?r.a.createElement(ge.a,null):r.a.createElement(he.a,null))))}))}function we(e){var t=e.enabled;Object(f.a)(e,["enabled"]);return t?r.a.createElement(C.a,null,"No suspects found"):null}function xe(e){var t=Object(o.a)({},e);return r.a.createElement(_.a,Object.assign({component:z.a},t),r.a.createElement(X,null),r.a.createElement(le,null),r.a.createElement(de,null),r.a.createElement(ke,null))}function Ge(){var e=Object(i.a)(["\n  flex-direction: row;\n  height: 100vh;\n  width: 100vw;\n"]);return Ge=function(){return e},e}function Pe(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return Pe=function(){return e},e}var Se=G.a.div(Pe()),Ce=Object(G.a)(Se)(Ge());l.a.render(r.a.createElement(function(e){var t=Object(o.a)({},e);return r.a.createElement(Ce,t,r.a.createElement(xe,{style:{flex:"1 1 100px"}}),r.a.createElement(Se,{style:{flex:"5 5 0"}},r.a.createElement(q,null),r.a.createElement(D,null)))},null),document.getElementById("root"))}},[[234,1,2]]]);
//# sourceMappingURL=main.84a2939d.chunk.js.map