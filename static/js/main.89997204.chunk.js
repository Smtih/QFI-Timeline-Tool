(window["webpackJsonpqfi-timeline-tool"]=window["webpackJsonpqfi-timeline-tool"]||[]).push([[0],{229:function(e,t,n){e.exports=n(477)},234:function(e,t,n){},263:function(e,t){},265:function(e,t){},297:function(e,t){},298:function(e,t){},363:function(e,t){},477:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(23),c=n.n(i),l=(n(234),n(27)),o=n(31),u=n(211),s=n(212),b=n(213),d=n(139),f=n.n(d),m=n(14),O=function(){function e(t,n){Object(s.a)(this,e),this.localStorageKey="QFI_TIMELINE_TOOL",this.initialGlobal=void 0,this.invalidateMs=void 0,this.initialGlobal=t,this.invalidateMs=n}return Object(b.a)(e,[{key:"initialise",value:function(){var e=this,t=this.getGlobal();Object(m.addCallback)(function(t){return e.storeGlobal(t)}),Object(m.setGlobal)(t)}},{key:"storeGlobal",value:function(e){localStorage.setItem(this.localStorageKey,JSON.stringify({lastModified:f()().toISOString(),global:e}))}},{key:"getGlobal",value:function(){var e=localStorage.getItem(this.localStorageKey);if(!e)return this.initialGlobal;var t=JSON.parse(e),n=t.lastModified,a=t.global;return n&&this.invalidateMs&&f()().diff(n)>this.invalidateMs?this.initialGlobal:a||this.initialGlobal}}]),e}(),p=n(214);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function j(e){return{name:e.name,radius:e.radius,startTime:e.startTime,endTime:e.endTime,location:{lat:e.lat,lng:e.lng}}}n.n(p).a.init({key:"1qcsUcO02_Ppf965XmiuCYnZZik6pLiV3wO3fBvRwaQs",simpleSheet:!0,parseNumbers:!0}).then(function(e){return e.map(j)}).then(function(e){var t=Object(m.getGlobal)();Object(m.setGlobal)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{suspects:e}))});new O({savedAddresses:[],suspects:[]},432e5).initialise();var g=n(28);function h(e){var t=Object(o.a)({},e);return r.a.createElement("div",t)}var E=n(19),y=n(78);function w(){var e=Object(l.a)(["\n  display: flex;\n  flex: 1;\n"]);return w=function(){return e},e}function G(e){var t=Object(o.a)({},e),n=Object(m.useGlobal)("currentPosition"),a=Object(E.a)(n,2),i=a[0],c=a[1],l=Object(m.useGlobal)("searchedAddress"),u=Object(E.a)(l,1)[0],s=Object(m.useGlobal)("savedAddresses"),b=Object(E.a)(s,1)[0],d=Object(m.useGlobal)("suspects"),f=Object(E.a)(d,1)[0];return r.a.createElement(x,Object.assign({style:{width:"100%",height:"100%",position:"relative"}},t),r.a.createElement(y.Map,{style:{width:"100%",height:"100%",position:"relative"},google:google,zoom:S,initialCenter:k,center:i,onDragend:function(){return c(void 0)}},b.map(function(e,t){return r.a.createElement(y.Marker,{title:e.firstLine,icon:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",position:e.location})}),f.map(function(e,t){return r.a.createElement(y.Circle,{key:t,center:e.location,radius:e.radius})}),u&&r.a.createElement(y.Marker,{title:u.firstLine,icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png",position:u.location})))}var k={lat:-37.774376,lng:144.947494},S=15,x=g.a.div(w()),I=n(499),C=n(501),L=n(493),P=n(100),A=n.n(P),M=n(221);function T(){var e=Object(l.a)(["\n  width: 100%;\n"]);return T=function(){return e},e}function D(e){var t=Object(o.a)({},e),n=Object(a.useState)(""),i=Object(E.a)(n,2),c=i[0],l=i[1],u=Object(m.useGlobal)("searchedAddress"),s=Object(E.a)(u,2)[1],b=Object(m.useGlobal)("currentPosition"),d=Object(E.a)(b,2)[1],f=Object(a.useCallback)(function(e){e&&l(e)},[l]),O=Object(a.useCallback)(function(e){if(e){var t=e.value;f(t.description),Object(P.geocodeByPlaceId)(t.placeId).then(function(e){return Object(P.getLatLng)(e[0])}).then(function(e){s({placeId:t.placeId,full:t.description,firstLine:t.formattedSuggestion.mainText,secondLine:t.formattedSuggestion.secondaryText,location:e}),d(e)}).catch(function(e){console.error(e)})}},[f,s,d]);return r.a.createElement(L.a,Object.assign({component:"div"},t),r.a.createElement(A.a,{debounce:500,value:c,onChange:f,searchOptions:B},function(e){var t=e.getInputProps,n=e.suggestions,a=t().onChange,i=n.map(function(e){return{value:e,label:e.description}});return r.a.createElement(J,null,r.a.createElement(M.a,{menuIsOpen:i.length>0,filterOption:function(){return!0},onInputChange:function(e){return a({target:{value:e}})},components:N,placeholder:"Search",options:i,onChange:O}))}))}var N={DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}},B={location:new window.google.maps.LatLng(-37,144),radius:5e3,componentRestrictions:{country:"AU"}},J=g.a.div(T()),q=n(222),F=n(48);function H(){var e=Object(l.a)(["\n  display: flex;\n  flex: 0;\n"]);return H=function(){return e},e}function K(e){var t=e.color,n=e.width,a=e.height,i=Object(F.a)(e,["color","width","height"]);return r.a.createElement(Z,i,r.a.createElement("svg",{style:{width:n,height:a},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:t,d:"M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z"})))}var Z=g.a.div(H());function _(){var e=Object(l.a)(["\n  display: flex;\n  flex: 0;\n"]);return _=function(){return e},e}g.a.div(_());var Q=n(494),R=n(495),U=n(496);function z(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n"]);return z=function(){return e},e}function V(e){var t=Object(o.a)({},e),n=Object(m.useGlobal)("savedAddresses"),i=Object(E.a)(n,2),c=i[0],l=i[1],u=Object(m.useGlobal)("searchedAddress"),s=Object(E.a)(u,1)[0],b=Object(a.useCallback)(function(){var e=Object(q.a)(c);s&&e.push(s),l(e)},[c,l,s]),d=Object(a.useMemo)(function(){return!!s&&!!c.find(function(e){return e.placeId===s.placeId})},[c,s]);return s?r.a.createElement(a.Fragment,null,r.a.createElement(L.a,Object.assign({component:"div"},t),r.a.createElement(Q.a,null,r.a.createElement(K,{width:30,height:30,color:"red"})),r.a.createElement(R.a,{primary:s.firstLine,secondary:s.secondLine})),r.a.createElement(X,null,r.a.createElement(U.a,{disabled:d,variant:"outlined",onClick:b},d?"Saved":"Save Location"))):null}var X=g.a.div(z()),Y=n(101),W=n(500),$=n(497),ee=n(498),te=function(e){var t=e.title,n=e.subHeader,i=e.children,c=Object(a.useState)(!0),l=Object(E.a)(c,2),o=l[0],u=l[1],s=Object(a.useCallback)(function(){return u(!o)},[u,o]);return r.a.createElement(a.Fragment,null,r.a.createElement(L.a,{button:!0,onClick:s},r.a.createElement(R.a,{primary:t}),o?r.a.createElement($.a,null):r.a.createElement(ee.a,null)),r.a.createElement(W.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(I.a,{component:"div",disablePadding:!0,subheader:n},i)))};function ne(){var e=Object(m.useGlobal)("currentPosition"),t=Object(E.a)(e,2)[1],n=Object(m.useGlobal)("savedAddresses"),a=Object(E.a)(n,1)[0];return r.a.createElement(te,{title:"Saved Locations",subHeader:r.a.createElement(ae,{enabled:0===a.length})},a.map(function(e){return r.a.createElement(L.a,{key:e.placeId,button:!0,onClick:function(){return t(e.location)}},r.a.createElement(R.a,{primary:e.firstLine,secondary:e.secondLine}))}))}function ae(e){var t=e.enabled;Object(F.a)(e,["enabled"]);return t?r.a.createElement(Y.a,null,"No saved locations yet..."):null}function re(){var e=Object(m.useGlobal)("suspects"),t=Object(E.a)(e,1)[0],n=Object(m.useGlobal)("currentPosition"),a=Object(E.a)(n,2)[1];return r.a.createElement(te,{title:"Suspect Locations",subHeader:r.a.createElement(ie,{enabled:0===t.length})},t.map(function(e,t){return r.a.createElement(L.a,{key:t,button:!0,onClick:function(){return a(e.location)}},r.a.createElement(R.a,{primary:e.name}))}))}function ie(e){var t=e.enabled;Object(F.a)(e,["enabled"]);return t?r.a.createElement(Y.a,null,"No suspects found"):null}function ce(e){var t=Object(o.a)({},e);return r.a.createElement(I.a,Object.assign({component:C.a},t),r.a.createElement(D,null),r.a.createElement(V,null),r.a.createElement(ne,null),r.a.createElement(re,null))}function le(){var e=Object(l.a)(["\n  flex-direction: row;\n  height: 100vh;\n  width: 100vw;\n"]);return le=function(){return e},e}function oe(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return oe=function(){return e},e}var ue=g.a.div(oe()),se=Object(g.a)(ue)(le());c.a.render(r.a.createElement(function(e){var t=Object(o.a)({},e);return r.a.createElement(se,t,r.a.createElement(ce,{style:{flex:"1 1 100px"}}),r.a.createElement(ue,{style:{flex:"5 5 0"}},r.a.createElement(G,null),r.a.createElement(h,null)))},null),document.getElementById("root"))}},[[229,1,2]]]);
//# sourceMappingURL=main.89997204.chunk.js.map